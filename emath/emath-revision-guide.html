<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Math A1 冲刺备考计划</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            line-height: 1.6;
        }
        
        .breadcrumbs {
            background-color: #ffffff;
            padding: 12px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            font-size: 0.9em;
            border-bottom: 1px solid #e0e0e0;
        }
        .breadcrumbs .container-nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .breadcrumbs a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }
        .breadcrumbs a:hover {
            text-decoration: underline;
        }
        .breadcrumbs span {
            color: #999;
        }
        .breadcrumbs .current-page {
            color: #333;
            font-weight: 500;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .title { color: white; font-size: 2.2em; font-weight: 700; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        .subtitle { color: white; opacity: 0.9; font-size: 1.1em; font-weight: 500; }

        .countdown-section { padding: 30px 20px; text-align: center; background: rgba(0, 0, 0, 0.03); border-bottom: 1px solid #e0e0e0; }
        .countdown-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; max-width: 800px; margin-left: auto; margin-right: auto; }
        .countdown-card { background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white; padding: 25px; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.2); transition: all 0.3s ease; }
        .countdown-card:hover { transform: translateY(-5px); box-shadow: 0 12px 35px rgba(0,0,0,0.3); }
        .countdown-card.paper2 { background: linear-gradient(135deg, #4834d4, #686de0); }
        .countdown-title { font-size: 1.4em; font-weight: 600; margin-bottom: 15px; }
        .countdown-display { font-size: 2.5em; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .countdown-unit { font-size: 0.8em; opacity: 0.9; margin-top: 5px; }

        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .progress-overview { background: #ffffff; padding: 25px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .progress-bar { width: 100%; height: 12px; background: #ecf0f1; border-radius: 6px; overflow: hidden; margin: 10px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #00b894, #00cec9); transition: width 0.5s ease; border-radius: 6px; }

        .week-section { background: #ffffff; margin-bottom: 30px; border-radius: 15px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.1); transition: all 0.3s ease; }
        .week-section:hover { transform: translateY(-2px); box-shadow: 0 12px 35px rgba(0,0,0,0.15); }
        .week-header { background: linear-gradient(135deg, #74b9ff, #0984e3); color: white; padding: 20px 25px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 600; }
        
        /* [修正] 恢复了正确的折叠动画样式 */
        .week-content { max-height: 0; overflow: hidden; padding: 0 20px; transition: max-height 0.4s ease-out, padding 0.4s ease-out; }
        .week-content.active { max-height: 2000px; /* A large value to accommodate content */ padding: 20px; }
        
        .task-table { width: 100%; border-collapse: collapse; }
        .task-row { border-bottom: 1px solid #ecf0f1; transition: background 0.2s ease; }
        .task-row:hover { background: #f8f9fa; }
        .task-cell { padding: 20px; vertical-align: top; border-right: 1px solid #ecf0f1; }
        .task-cell:last-child { border-right: none; }
        .date-cell { font-weight: 600; color: #2c3e50; background: #f8f9fa; width: 120px; text-align: center; }
        .mission-cell { font-weight: 600; color: #e74c3c; width: 200px; }
        .task-checkbox { margin-right: 10px; transform: scale(1.2); cursor: pointer; }
        .task-completed { text-decoration: line-through; opacity: 0.7; background: #d5f4e6; }

        .status-indicator { display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 8px; }
        .status-pending { background: #f39c12; animation: pulse 2s infinite; }
        .status-completed { background: #27ae60; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        
        .expand-icon { transition: transform 0.3s ease; }
        .expand-icon.rotated { transform: rotate(180deg); }

        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-card { background: linear-gradient(135deg, #a29bfe, #6c5ce7); color: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .stat-number { font-size: 2em; font-weight: 700; margin-bottom: 5px; }
        .stat-label { font-size: 0.9em; opacity: 0.9; }

        .week-tabs { display: flex; gap: 10px; border-bottom: 2px solid #ddd; margin-bottom: 20px; }
        .week-tab-button { padding: 10px 20px; border: none; background: transparent; cursor: pointer; font-size: 1em; font-weight: 600; color: #888; border-bottom: 3px solid transparent; transition: all 0.3s ease; }
        .week-tab-button:hover { color: #333; }
        .week-tab-button.active { color: #667eea; border-bottom: 3px solid #667eea; }
        .tab-pane { display: none; animation: fadeIn 0.5s ease; }
        .tab-pane.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .ai-table { width: 100%; border-collapse: collapse; font-size: 0.9em; }
        .ai-table th, .ai-table td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #ecf0f1; }
        .ai-table th { background-color: #f8f9fa; font-weight: 600; }
        .ai-table .status-cell { text-align: center; font-size: 1.5em; cursor: pointer; }
        .ai-table .status-toggle { transition: transform 0.2s ease; }
        .ai-table .status-toggle:hover { transform: scale(1.2); }

        .ai-task-queue-section { background: #ffffff; padding: 25px; border-radius: 15px; margin-top: 30px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .ai-task-queue-section h3 { margin-bottom: 20px; color: #2c3e50; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
        .ai-task-queue-section ul { list-style-type: none; padding-left: 0; }
        .ai-task-queue-section li { margin-bottom: 15px; }
        .ai-task-queue-section strong { color: #667eea; }

        .floating-action { position: fixed; bottom: 30px; right: 30px; background: linear-gradient(135deg, #ff7675, #d63031); color: white; border: none; border-radius: 50%; width: 60px; height: 60px; font-size: 1.5em; cursor: pointer; box-shadow: 0 4px 20px rgba(0,0,0,0.3); transition: all 0.3s ease; }
        .floating-action:hover { transform: scale(1.1); }

        @media (max-width: 768px) {
            .title { font-size: 1.8em; }
            .countdown-display { font-size: 2em; }
            .task-table, .ai-table { font-size: 0.85em; }
            .task-cell { padding: 15px 10px; }
            .container { padding: 10px; }
        }
    </style>
</head>
<body>
    <nav class="breadcrumbs">
        <div class="container-nav">
            <a href="../index.html">平台主页</a>
            <span>&gt;</span>
            <a href="../index.html">Study Resource</a>
            <span>&gt;</span>
            <span class="current-page">E-Math 备考计划</span>
        </div>
    </nav>

    <div class="header">
        <h1 class="title">🎯 E-Math A1 冲刺备考计划</h1>
        <p class="subtitle">为期三周的详尽复习计划 - 动态跟踪系统</p>
    </div>

    <div class="countdown-section">
        <h2 style="color: #333; margin-bottom: 20px; font-size: 1.5em;">⏰ 考试倒计时</h2>
        <div class="countdown-grid">
            <div class="countdown-card">
                <div class="countdown-title">📝 Paper 1</div>
                <div class="countdown-display" id="paper1-countdown">--</div>
                <div class="countdown-unit">距离考试</div>
            </div>
            <div class="countdown-card paper2">
                <div class="countdown-title">📋 Paper 2</div>
                <div class="countdown-display" id="paper2-countdown">--</div>
                <div class="countdown-unit">距离考试</div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="progress-overview">
            <h3 style="margin-bottom: 20px; color: #2c3e50;">📊 整体进度概览</h3>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-number" id="total-tasks">0</div><div class="stat-label">总任务数</div></div>
                <div class="stat-card"><div class="stat-number" id="completed-tasks">0</div><div class="stat-label">已完成</div></div>
                <div class="stat-card"><div class="stat-number" id="completion-rate">0%</div><div class="stat-label">完成率</div></div>
                <div class="stat-card"><div class="stat-number" id="days-remaining">--</div><div class="stat-label">剩余天数</div></div>
            </div>
            <div class="progress-bar"><div class="progress-fill" id="overall-progress" style="width: 0%"></div></div>
        </div>

        <!-- 第一周 -->
        <div class="week-section">
            <div class="week-header" onclick="toggleWeek(1)">
                <span>🔥 第一周：清扫短板周 (Sep 22 - Sep 28)</span>
                <span class="expand-icon" id="icon-1">▼</span>
            </div>
            <div class="week-content" id="week-1">
                <div class="week-tabs">
                    <button class="week-tab-button active" onclick="showWeekTab(1, 'student')">学生任务视图</button>
                    <button class="week-tab-button" onclick="showWeekTab(1, 'ai')">AI仪表盘</button>
                </div>
                <div id="week-1-student" class="tab-pane active">
                    <table class="task-table">
                        <!-- [修正] 恢复了原始详细的学生任务HTML -->
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周一<br>Sep 22</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">代数综合处理 (P1)</td><td class="task-cell"><strong>1.5小时:</strong> 完成"代数"黄金题库中练习1 (代数分数)和练习2 (解方程)的所有题目</td><td class="task-cell">1. 一份完整的答卷<br>2. 对照答案，用红笔订正<br>3. 为每一道错题填写"错误分析卡"</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周二<br>Sep 23</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">代数综合处理 (P2)</td><td class="task-cell"><strong>1.5小时:</strong> 完成"代数"黄金题库中练习3 (公式变形)和练习4 (联立方程)的所有题目</td><td class="task-cell">1. 完整的答卷 + 红笔订正<br>2. 填写错题的"错误分析卡"</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周三<br>Sep 24</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">二次函数 (P1)</td><td class="task-cell"><strong>1.5小时:</strong> 完成"二次函数"黄金题库中Practice 1 (配方法)的所有题目。严格按照SOP书写步骤</td><td class="task-cell">1. 检查步骤是否与SOP完全一致<br>2. 修正所有计算失误</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周四<br>Sep 25</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">二次函数 (P2)</td><td class="task-cell"><strong>2小时:</strong> 完成Practice 2 (图像绘制)和Practice 3 (综合应用)。特别注意Q20 (CCHY)的综合性</td><td class="task-cell">1. 确保所有图像标注清晰 (顶点、截距、对称轴)<br>2. 能够口头复述Q18, Q19的解题逻辑</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周五<br>Sep 26</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">核心题型复盘</td><td class="task-cell"><strong>1.5小时:</strong> 回顾本周所有错题的"错误分析卡"。重新做一遍所有被标记为🔴高优先级的题目</td><td class="task-cell">1. 第二次做题的正确率应达到90%以上<br>2. 能不看SOP，独立写出规范步骤</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周六<br>Sep 27</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">卫星题型马拉松</td><td class="task-cell"><strong>2小时:</strong> 快速完成第三批卫星题型（坐标几何、测量/空间几何）的练习</td><td class="task-cell">1. 目标：正确率达到95%<br>2. 制作一份包含所有Mensuration公式的闪卡</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周日<br>Sep 28</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">休息与周度总结</td><td class="task-cell"><strong>30分钟:</strong> 更新个人能力雷达图。对比上周，看看"代数精度"、"程序执行力"是否有提升</td><td class="task-cell">一份更新后的雷达图，为第二周的训练指明方向</td></tr>
                    </table>
                </div>
                <div id="week-1-ai" class="tab-pane">
                    <table class="ai-table">
                        <thead><tr><th>日期</th><th>核心任务</th><th>具体资源/练习清单</th><th style="text-align:center;">状态</th></tr></thead>
                        <tbody>
                            <tr><td><strong>周一</strong></td><td><strong>代数综合处理 (P1)</strong></td><td>👨‍🎓 <strong>学生练习:</strong> 完成“代数黄金题库”中的 <strong>Q1-Q13</strong><br>👨‍🎓 <strong>学生任务:</strong> 为所有错题填写“错误分析卡”。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                            <tr><td><strong>周二</strong></td><td><strong>代数综合处理 (P2)</strong></td><td>👨‍🎓 <strong>学生练习:</strong> 完成“代数黄金题库”中的 <strong>Q14-Q21</strong><br>👨‍🎓 <strong>学生任务:</strong> 为所有错题填写“错误分析卡”。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                            <tr><td><strong>周三</strong></td><td><strong>二次函数 (P1)</strong></td><td>📝 **AI生成:** M-P-C框架, SOPs, 深度解析 (已交付)。<br>👨‍🎓 **学生练习:** 完成“二次函数黄金题库”中的 <strong>Practice 1 (Q1-Q8)</strong>。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">✅</span></td></tr>
                            <tr><td><strong>周四</strong></td><td><strong>二次函数 (P2)</strong></td><td>👨‍🎓 **学生练习:** 完成“二次函数黄金题库”中的 <strong>Practice 2 & 3 (Q9-Q20)</strong>。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                            <tr><td><strong>周五</strong></td><td><strong>核心题型复盘</strong></td><td>👨‍🎓 **学生任务:** 复习本周所有“错误分析卡”，并**重做**所有被标记为`🔴高优先级`的题目。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                            <tr><td><strong>周六</strong></td><td><strong>卫星题型马拉松</strong></td><td>📝 **AI生成:** “坐标几何”与“测量/空间几何”的黄金题库。<br>👨‍🎓 **学生练习:** 完成第三批卫星题型练习包。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">✅</span></td></tr>
                            <tr><td><strong>周日</strong></td><td><strong>周度总结</strong></td><td>👨‍🎓 **学生任务:** 更新个人能力雷达图，对比上周进展。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 第二周 -->
        <div class="week-section">
             <div class="week-header" onclick="toggleWeek(2)">
                <span>⚡ 第二周：核心强化与速度周 (Sep 29 - Oct 5)</span>
                <span class="expand-icon" id="icon-2">▼</span>
            </div>
            <div class="week-content" id="week-2">
                <div class="week-tabs">
                    <button class="week-tab-button active" onclick="showWeekTab(2, 'student')">学生任务视图</button>
                    <button class="week-tab-button" onclick="showWeekTab(2, 'ai')">AI仪表盘</button>
                </div>
                <div id="week-2-student" class="tab-pane active">
                    <table class="task-table">
                        <!-- [修正] 恢复了原始详细的学生任务HTML -->
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周一<br>Sep 29</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">三角函数SOP强化</td><td class="task-cell"><strong>2小时:</strong> 计时重做“三角函数”黄金16题中的所有偶数题。严格套用SOP 1, 2, 3</td><td class="task-cell">1. 计算总耗时，分析哪类题（2D/3D）耗时最长<br>2. 检查是否有钝角陷阱或最短距离模型忘记使用</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周二<br>Sep 30</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">Paper 1 模拟</td><td class="task-cell"><strong>2小时:</strong> (考试前一天) 从11份真题中，随机抽取一份完整的Paper 1进行限时模拟考试</td><td class="task-cell">1. 真实评分，找出失分点<br>2. 分析失分是来自核心题型还是卫星题型</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周三<br>Oct 1</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">Paper 1 考试</td><td class="task-cell"><strong>考试日</strong> - 正式考试</td><td class="task-cell">放松心态，正常发挥。相信你的训练！</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周四<br>Oct 2</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">几何证明SOP强化</td><td class="task-cell"><strong>2小时:</strong> 计时重做“几何证明”黄金12题中的所有奇数题</td><td class="task-cell">1. 检查书写格式是否完美复刻SOP<br>2. 检查理由 (Reasons)是否完整、准确</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周五<br>Oct 3</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">二次函数变式训练</td><td class="task-cell"><strong>2小时:</strong> 完成所有“二次函数变式训练题”</td><td class="task-cell">1. 重点分析概念结合型和反向提问型的题目，检验C层理解</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周六<br>Oct 4</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">综合大题计时训练</td><td class="task-cell"><strong>2.5小时:</strong> 从11份Paper 2中，只挑选最后两道大题组成“压轴题集”，进行连续计时攻克</td><td class="task-cell">1. 训练在高压、高复杂度下的抗压能力和时间分配能力</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周日<br>Oct 5</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">休息与周度总结</td><td class="task-cell"><strong>30分钟:</strong> 最后一次更新雷达图。全面评估自己的各项能力，找出最后冲刺的1-2个关键点</td><td class="task-cell">最终版个人能力雷达图</td></tr>
                    </table>
                </div>
                <div id="week-2-ai" class="tab-pane">
                     <table class="ai-table">
                        <thead><tr><th>日期</th><th>核心任务</th><th>具体资源/练习清单</th><th style="text-align:center;">状态</th></tr></thead>
                        <tbody>
                            <tr><td><strong>周一</strong></td><td><strong>三角函数SOP强化</strong></td><td>📝 **AI生成:** “三角函数”的M-P-C框架, SOPs, 深度解析 (已交付)。<br>👨‍🎓 **学生练习:** **计时**重做“三角函数黄金16题”中的 **Q2, Q4, Q6, Q8, Q10, Q12, Q14, Q16**。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">✅</span></td></tr>
                            <tr><td><strong>周二</strong></td><td><strong>Paper 1 模拟</strong></td><td>👨‍🎓 **学生任务:** 独立完成一份完整的 **2023年 Paper 1** (e.g., Anglo-Chinese School)。<br>📝 **AI生成:** 针对该份模考答卷的**快速诊断报告**。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                            <tr><td><strong>周三</strong></td><td><strong>Paper 1 考试</strong></td><td>👨‍🎓 **学生任务:** 参加正式考试。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                            <tr><td><strong>周四</strong></td><td><strong>几何证明SOP强化</strong></td><td>📝 **AI生成:** “几何证明”的M-P-C, SOPs, 深度解析 (已交付)。<br>👨‍🎓 **学生练习:** **计时**重做“几何证明黄金12题”中的 **Q1, Q3, Q5, Q7, Q9, Q11**。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">✅</span></td></tr>
                            <tr><td><strong>周五</strong></td><td><strong>二次函数变式训练</strong></td><td>📝 **AI生成:** 基于“二次函数”母题，生成一份包含**10-12道高质量变式题**的训练包。<br>👨‍🎓 **学生练习:** 完成上述“二次函数变式训练包”。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔄</span></td></tr>
                            <tr><td><strong>周六</strong></td><td><strong>综合大题计时训练</strong></td><td>📝 **AI生成:** 从11份Paper 2中，提取**最后两道大题**，组成一份“压轴题集”。<br>👨‍🎓 **学生练习:** 完成“压轴题集”的计时训练。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔄</span></td></tr>
                            <tr><td><strong>周日</strong></td><td><strong>周度总结</strong></td><td>👨‍🎓 **学生任务:** 最后一次更新个人能力雷达图。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 第三周 -->
        <div class="week-section">
            <div class="week-header" onclick="toggleWeek(3)">
                <span>🚀 第三周：模拟实战与状态调整周 (Oct 6 - Oct 7)</span>
                <span class="expand-icon" id="icon-3">▼</span>
            </div>
            <div class="week-content" id="week-3">
                <div class="week-tabs">
                    <button class="week-tab-button active" onclick="showWeekTab(3, 'student')">学生任务视图</button>
                    <button class="week-tab-button" onclick="showWeekTab(3, 'ai')">AI仪表盘</button>
                </div>
                <div id="week-3-student" class="tab-pane active">
                    <table class="task-table">
                        <!-- [修正] 恢复了原始详细的学生任务HTML -->
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周一<br>Oct 6</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">Paper 2 模拟</td><td class="task-cell"><strong>2.5小时:</strong> (考试前一天) 挑选一份难度最高的2023年Paper 2进行完整限时模拟</td><td class="task-cell">1. 只订正，不纠结。目标是熟悉流程和压力<br>2. 检查时间分配是否合理</td></tr>
                        <tr class="task-row"><td class="task-cell date-cell"><span class="status-indicator status-pending"></span>周二<br>Oct 7</td><td class="task-cell mission-cell"><input type="checkbox" class="task-checkbox">Paper 2 考试</td><td class="task-cell"><strong>最终决战</strong> - 正式考试</td><td class="task-cell"><strong>考前提醒:</strong><br>1. 检查计算器模式 (DEG)<br>2. 读题时用笔圈出关键词<br>3. 遇到难题果断跳过，先拿稳基本分<br>4. <strong>相信你的训练！</strong> 你已经准备好了</td></tr>
                    </table>
                </div>
                <div id="week-3-ai" class="tab-pane">
                     <table class="ai-table">
                        <thead><tr><th>日期</th><th>核心任务</th><th>具体资源/练习清单</th><th style="text-align:center;">状态</th></tr></thead>
                        <tbody>
                            <tr><td><strong>周一</strong></td><td><strong>Paper 2 模拟</strong></td><td>👨‍🎓 **学生任务:** 独立完成一份完整的 **2023年 Paper 2** (e.g., Beatty Secondary School)。<br>📝 **AI生成:** 针对该份模考的**“考前速览”报告**，只指出需要最后注意的1-2个关键点。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                            <tr><td><strong>周二</strong></td><td><strong>Paper 2 考试</strong></td><td>👨‍🎓 **学生任务:** 参加正式考试。</td><td class="status-cell"><span class="status-toggle" onclick="toggleAIStatus(this)">🔲</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="ai-task-queue-section">
            <h3>当前AI任务队列</h3>
            <ul>
                <li><strong>1. 二次函数变式训练包 (Week 2, Friday):</strong><br>
                    <span>状态: 🔄 <strong>进行中</strong></span><br>
                    <span>描述: 我将基于“二次函数黄金题库”中的母题，为您设计一份包含情境迁移、反向提问、概念结合等类型的变式训练题。</span>
                </li>
                 <li><strong>2. 综合大题计时训练集 (Week 2, Saturday):</strong><br>
                    <span>状态: 🔄 <strong>进行中</strong></span><br>
                    <span>描述: 我将从所有2022和2023年的Paper 2中，筛选出10道最具代表性的压轴大题，供您进行高强度综合训练。</span>
                </li>
                 <li><strong>3. Paper 1 & 2 模拟考快速诊断报告 (Week 2, Tue & Week 3, Mon):</strong><br>
                    <span>状态: 🔲 <strong>待启动</strong></span><br>
                    <span>描述: 在您完成模拟考后，我将准备好为您的答卷生成简明扼要的诊断报告。</span>
                </li>
            </ul>
        </div>
    </div>

    <button class="floating-action" onclick="resetProgress()" title="重置进度">🔄</button>

    <script>
        const paper1Date = new Date('2025-10-01');
        const paper2Date = new Date('2025-10-07');

        function updateCountdown() {
            const now = new Date();
            const paper1Diff = paper1Date - now;
            const paper1Days = Math.ceil(paper1Diff / (1000 * 60 * 60 * 24));
            const paper2Diff = paper2Date - now;
            const paper2Days = Math.ceil(paper2Diff / (1000 * 60 * 60 * 24));
            document.getElementById('paper1-countdown').textContent = paper1Days > 0 ? `${paper1Days} 天` : '已考试';
            document.getElementById('paper2-countdown').textContent = paper2Days > 0 ? `${paper2Days} 天` : '已考试';
            const minDays = Math.min(paper1Days > 0 ? paper1Days : Infinity, paper2Days > 0 ? paper2Days : Infinity);
            document.getElementById('days-remaining').textContent = minDays !== Infinity ? `${minDays} 天` : '0 天';
        }

        function toggleWeek(weekNum) {
            const content = document.getElementById(`week-${weekNum}`);
            const icon = document.getElementById(`icon-${weekNum}`);
            content.classList.toggle('active');
            icon.classList.toggle('rotated');
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            const totalTasks = checkboxes.length;
            let completedTasks = 0;
            checkboxes.forEach((checkbox) => {
                const row = checkbox.closest('.task-row');
                if (checkbox.checked) {
                    completedTasks++;
                    row.classList.add('task-completed');
                } else {
                    row.classList.remove('task-completed');
                }
            });
            const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            document.getElementById('total-tasks').textContent = totalTasks;
            document.getElementById('completed-tasks').textContent = completedTasks;
            document.getElementById('completion-rate').textContent = `${completionRate}%`;
            document.getElementById('overall-progress').style.width = `${completionRate}%`;
            saveProgressToLocalStorage();
        }

        function saveProgressToLocalStorage() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            const progress = {};
            checkboxes.forEach((checkbox, index) => {
                progress[`task-${index}`] = checkbox.checked;
            });
            localStorage.setItem('emathRevisionProgress', JSON.stringify(progress));
        }

        function loadProgressFromLocalStorage() {
            const savedProgress = JSON.parse(localStorage.getItem('emathRevisionProgress'));
            if (savedProgress) {
                const checkboxes = document.querySelectorAll('.task-checkbox');
                checkboxes.forEach((checkbox, index) => {
                    if (savedProgress[`task-${index}`]) {
                        checkbox.checked = true;
                    }
                });
            }
            updateProgress();
        }

        function resetProgress() {
            if (confirm('确定要重置所有进度吗？此操作将清除所有已保存的记录。')) {
                const checkboxes = document.querySelectorAll('.task-checkbox');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = false;
                });
                localStorage.removeItem('emathRevisionProgress');
                updateProgress();
            }
        }

        function showWeekTab(weekNum, tabName) {
            document.querySelectorAll(`#week-${weekNum} .tab-pane`).forEach(pane => pane.classList.remove('active'));
            document.querySelectorAll(`#week-${weekNum} .week-tab-button`).forEach(button => button.classList.remove('active'));
            document.getElementById(`week-${weekNum}-${tabName}`).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        function toggleAIStatus(element) {
            const states = ['🔲', '🔄', '✅'];
            let currentIndex = states.indexOf(element.textContent);
            let nextIndex = (currentIndex + 1) % states.length;
            element.textContent = states[nextIndex];
        }

        document.addEventListener('DOMContentLoaded', function() {
            updateCountdown();
            setInterval(updateCountdown, 60000); 
            loadProgressFromLocalStorage();
            
            document.querySelectorAll('.task-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', updateProgress);
            });

            // 默认展开第一周
            toggleWeek(1);
        });
    </script>
</body>
</html>
